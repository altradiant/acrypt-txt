## XOR

XOR-шифр является одним из простейших и фундаментальных методов симметричного шифрования; XOR используется в гаммировании, которое, в свою очередь, используется в множестве современных шифров. Он основан на использовании логической операции XOR (исключающее ИЛИ) между битовыми последовательностями открытого текста и ключа. Этот метод обеспечивает простую и эффективную реализацию шифрования и расшифровки.

## Принцип работы

### Шифрование

1. **Ключ**: Для шифрования используется ключ, который представляет собой последовательность битов, обычно той же длины, что и открытый текст. Если ключ короче, он повторяется до достижения необходимой длины.

2. **Процесс шифрования**: Для каждого бита открытого текста выполняется операция XOR с соответствующим битом ключа. Результат этой операции является зашифрованным битом.

   - Если бит открытого текста равен 0, а бит ключа равен 1, результат XOR будет 1.
   - Если бит открытого текста равен 1, а бит ключа равен 0, результат XOR будет 1.
   - Если оба бита равны, результат XOR будет 0.

*В программной реализации после выполнения XOR используется base64, чтобы перевести байты в текст. Перед расшифрованием, base64 также используется снова, чтобы получить байты после XOR.*

### Пример

Пусть у нас есть открытый текст "HELLO" и ключ "KEY".

1. **Преобразование в биты**:
   - Открытый текст: H (01001000), E (01000101), L (01001100), L (01001100), O (01001111)
   - Ключ: K (01001011), E (01000101), Y (01011001)

2. **Шифрование**:
   - H XOR K = 01001000 XOR 01001011 = 00000011
   - E XOR E = 01000101 XOR 01000101 = 00000000
   - L XOR Y = 01001100 XOR 01011001 = 00010101
   - L XOR K = 01001100 XOR 01001011 = 00000111
   - O XOR E = 01001111 XOR 01000101 = 00001010

   Зашифрованный текст: эти байты

3. **Расшифрование**:
   - 03 XOR K = 00000011 XOR 01001011 = 01001000
   - 00 XOR E = 00000000 XOR 01000101 = 01000101
   - 21 XOR Y = 00010101 XOR 01011001 = 01001100
   - 07 XOR K = 00000111 XOR 01001011 = 01001100
   - 10 XOR E = 00001010 XOR 01000101 = 01001111

   Расшифрованный текст: HELLO

### Расшифрование

Расшифрование XOR-шифра выполняется точно так же, как и шифрование. Для каждого бита зашифрованного текста выполняется операция XOR с тем же ключом, который использовался при шифровании. Результат этой операции восстанавливает исходный бит открытого текста (т.е. при двойном шифровании, текст не меняется.)

Однако, поскольку зашифрованные байты оборачиваются base64, то расшифрование нужно проводить отдельно, но принцип остаётся неизменным (т.е. с использованием base64 необходимо знать, когда проходит шифровка и расшифровка.)

Убедитесь в этом самостоятельно.

XOR-шифр является простым и эффективным методом шифрования, однако он не является самым безопасным. Его безопасность зависит от выбора ключа и его длины. Использование длинного и случайного ключа повышает уровень защиты, но даже в этом случае XOR-шифр может быть уязвим к атакам, таким как частотный анализ.

На этот раздел отведено два задания.